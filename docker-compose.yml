version: '2.0'

services:

  #------------------------------------------------------------------
  # Volumes
  #------------------------------------------------------------------

  volume_media:
    container_name: friday_media
    image: tianon/true
    environment:
      PGID: ${FRIDAY_CONFIG_PGID}
      PUID: ${FRIDAY_CONFIG_PUID}
    volumes:
      - ${FRIDAY_LOCATION_TORRENT_DOWNLOADS}:/downloads
      - ${FRIDAY_LOCATION_TORRENT_WATCH}:/watch
      - ${FRIDAY_LOCATION_TVSHOWS}:/tv
      - ${FRIDAY_LOCATION_MOVIES}:/movies
      - ${FRIDAY_ROOT}/config:/config

  #------------------------------------------------------------------
  # Services
  #------------------------------------------------------------------
  transmission:
    container_name: friday_transmission
    image: linuxserver/transmission
    restart: always
    hostname: ${FRIDAY_NETWORK_TRANSMISSION_HOSTNAME}
    networks:
      friday:
        aliases:
          - ${FRIDAY_NETWORK_TRANSMISSION_HOSTNAME}
    ports:
      - 9091:9091
    environment:
      PGID: ${FRIDAY_CONFIG_PGID}
      PUID: ${FRIDAY_CONFIG_PUID}
      TZ: ${FRIDAY_TIMEZONE}
    volumes:
      - ${FRIDAY_ROOT}/config/transmission:/config
    volumes_from:
      - volume_media

  couchpotato:
    container_name: friday_couchpotato
    image: linuxserver/couchpotato
    restart: always
    hostname: ${FRIDAY_NETWORK_COUCHPOTATO_HOSTNAME}
    networks:
      friday:
        aliases:
          - ${FRIDAY_NETWORK_COUCHPOTATO_HOSTNAME}
    ports:
      - 5050:5050
    environment:
      PGID: ${FRIDAY_CONFIG_PGID}
      PUID: ${FRIDAY_CONFIG_PUID}
      TZ: ${FRIDAY_TIMEZONE}
    volumes:
      - ${FRIDAY_ROOT}/config/couchpotato:/config
    volumes_from:
      - volume_media
    depends_on:
      - transmission
      - jackett

  sickrage:
    container_name: friday_sickrage
    image: linuxserver/sickrage
    restart: always
    hostname: ${FRIDAY_NETWORK_SICKRAGE_HOSTNAME}
    networks:
      friday:
        aliases:
          - ${FRIDAY_NETWORK_SICKRAGE_HOSTNAME}
    ports:
      - 8181:8081
    environment:
      PGID: ${FRIDAY_CONFIG_PGID}
      PUID: ${FRIDAY_CONFIG_PUID}
      TZ: ${FRIDAY_TIMEZONE}
    volumes:
      - ${FRIDAY_ROOT}/config/sickrage:/config
    volumes_from:
      - volume_media
    depends_on:
      - transmission
      - jackett

  smokeping:
    image: linuxserver/smokeping
    container_name: friday_smokeping
    volumes:
      - ${FRIDAY_ROOT}/config/smokeping:/config
      - ${FRIDAY_ROOT}/config/smokeping/data:/data
    volumes_from:
      - volume_media
    ports:
      - 27025:80
    environment:
      PGID: ${FRIDAY_CONFIG_PGID}
      PUID: ${FRIDAY_CONFIG_PUID}
      TZ: ${FRIDAY_TIMEZONE}
    restart: always

  jackett:
    container_name: friday_jackett
    image: linuxserver/jackett
    restart: always
    hostname: ${FRIDAY_NETWORK_JACKETT_HOSTNAME}
    networks:
      friday:
        aliases:
          - ${FRIDAY_NETWORK_JACKETT_HOSTNAME}
    ports:
      - 9117:9117
    environment:
      PGID: ${FRIDAY_CONFIG_PGID}
      PUID: ${FRIDAY_CONFIG_PUID}
      TZ: ${FRIDAY_TIMEZONE}
    volumes:
      - ${FRIDAY_ROOT}/config/jackett:/config
      - ${FRIDAY_LOCATION_TORRENT_WATCH}:/downloads
    volumes_from:
      - volume_media

  organizr:
    container_name: friday_organizr
    image: lsiocommunity/organizr
    restart: always
    networks:
      friday:
        aliases:
          - ${FRIDAY_NETWORK_ORGANIZR_HOSTNAME}
    environment:
      PGID: ${FRIDAY_CONFIG_PGID}
      PUID: ${FRIDAY_CONFIG_PUID}
      TZ: ${FRIDAY_TIMEZONE}
    volumes:
      - ${FRIDAY_ROOT}/config/organizr:/config
    volumes_from:
      - volume_media
    ports:
      - 8000:80
    depends_on:
      - couchpotato

  mysql:
    container_name: friday_mysql
    image: linuxserver/mariadb
    restart: always
    networks:
      friday:
        aliases:
          - ${FRIDAY_NETWORK_MYSQL_HOSTNAME}
    environment:
      PGID: ${FRIDAY_CONFIG_PGID}
      PUID: ${FRIDAY_CONFIG_PUID}
      TZ: ${FRIDAY_TIMEZONE}
      MYSQL_ROOT_PASSWORD: ${FRIDAY_DATABASE_PASS}
    volumes_from:
      - volume_media
    volumes:
      - ${FRIDAY_ROOT}/config/mysql:/config
    ports:
      - 3307:3306

  kodi-headless:
    container_name: friday_kodi
    image: linuxserver/kodi-headless
    restart: always
    networks:
      friday:
        aliases:
          - ${FRIDAY_NETWORK_KODI_HOSTNAME}
    environment:
      PGID: ${FRIDAY_CONFIG_PGID}
      PUID: ${FRIDAY_CONFIG_PUID}
      TZ: ${FRIDAY_TIMEZONE}
    volumes_from:
      - volume_media
    volumes:
      - ${FRIDAY_ROOT}/config/kodi-headless/.kodi:/config/.kodi
      - ${FRIDAY_LOCATION_TVSHOWS}:${FRIDAY_LOCATION_TVSHOWS}
      - ${FRIDAY_LOCATION_MOVIES}:${FRIDAY_LOCATION_MOVIES}
    ports:
      - 9777:9777/udp
      - 8585:8080
    depends_on:
      - mysql
    links:
      - mysql

networks:
  friday:
